---
import Analytics from "@vercel/analytics/astro";
import "@fontsource/poppins";
import "../assets/app.css";
import Navbar from "../components/Navbar.astro";
import { SEO } from "astro-seo";

interface Props {
  title?: string;
  description?: string;
  image?: string;
  article?: boolean;
}

const {
  title = "Desde Júpiter",
  description = "Transformo startups con arquitecturas cloud seguras, automatizadas y listas para producción en AWS. +5 años de experiencia en cloud computing, DevOps y automatización.",
  image = "/og-image.jpg",
} = Astro.props;

const canonicalURL = new URL(Astro.url.pathname, Astro.site);
const socialImageURL = new URL(image, Astro.site);
---

<!doctype html>
<html lang="es">
  <head>
    <SEO
      title={title}
      description={description}
      canonical={canonicalURL.toString()}
      charset="UTF-8"
      openGraph={{
        basic: {
          title: title,
          type: "website",
          image: socialImageURL.toString(),
          url: canonicalURL.toString(),
        },
        optional: {
          description: description,
          locale: "es_ES",
          siteName: "Desde Júpiter",
        },
        image: {
          alt: "Dantz - Cloud Engineer especializado en AWS, DevOps y automatización",
          width: 1200,
          height: 630,
        },
      }}
      twitter={{
        card: "summary_large_image",
        title: title,
        description: description,
        image: socialImageURL.toString(),
        imageAlt:
          "Dantz - Cloud Engineer especializado en AWS, DevOps y automatización",
      }}
      extend={{
        link: [
          { rel: "icon", type: "image/svg+xml", href: "/favicon.svg" },
          { rel: "sitemap", href: "/sitemap-index.xml" },
        ],
        meta: [
          { name: "viewport", content: "width=device-width, initial-scale=1" },
          { name: "generator", content: Astro.generator },
          { name: "author", content: "Dantz" },
          {
            name: "keywords",
            content:
              "Cloud Engineer, AWS, DevOps, Cloud Computing, Infraestructura, Automatización, Terraform, Kubernetes, Docker",
          },
          { name: "robots", content: "index, follow" },
          { name: "theme-color", content: "#000000" },
        ],
      }}
    />
    <Analytics />
  </head>
  <body>
    <div class="layout">
      <header>
        <Navbar />
      </header>
      <main>
        <slot />
      </main>
      <footer></footer>
    </div>
  </body>
</html>

<style>
  html,
  body {
    margin: 0;
    width: 100%;
    height: 100%;
    background: var(--color-base-200);
  }

  .layout {
    display: grid;
    grid-template-rows: auto 1fr auto;
    min-height: 100dvh;
  }
</style>
